ASSUME DS: DATA , CS: CODE

DATA SEGMENT
    MSG1 DB 13,10, "ENTER FIRST NUMBER: $"
    MSG2 DB 13,10, "ENTER SECOND NUMBER: $"
    MSG3 DB 13,10, "DIFFERENCE: $"
DATA ENDS

CODE SEGMENT
START:
    MOV AX, DATA
    MOV DS, AX

    ; --- Input First Number ---
    LEA DX, MSG1
    MOV AH, 09H
    INT 21H

    MOV AH, 01H     ; Input tens digit
    INT 21H
    MOV BH, AL      ; Store ASCII in BH

    MOV AH, 01H     ; Input units digit
    INT 21H
    MOV BL, AL      ; Store ASCII in BL

    ; --- Input Second Number ---
    LEA DX, MSG2
    MOV AH, 09H
    INT 21H

    MOV AH, 01H     ; Input tens digit
    INT 21H
    MOV CH, AL      ; Store ASCII in CH

    MOV AH, 01H     ; Input units digit
    INT 21H
    MOV CL, AL      ; Store ASCII in CL

    ; --- Subtract Units Digits ---
    MOV AL, BL      ; 1st number unit digit
    SUB AL, CL      ; subtract 2nd number unit digit
    AAS             ; adjust for BCD
    ADD AL, 30H     ; convert back to ASCII
    MOV BL, AL      ; save result digit

    ; --- Subtract Tens Digits with Borrow ---
    ; Note: AAS does not affect AH, so we manually handle borrow via CF

    MOV AL, BH
    SBB AL, CH      ; subtract with borrow
    AAS
    ADD AL, 30H
    MOV BH, AL      ; save result digit

    ; --- Display Result ---ASSUME DS: DATA , CS: CODE
DATA SEGMENT
MSG1 DB 13,10, "ENTER FIRST NUMBER: $"
MSG2 DB 13,10, "ENTER SECOND NUMBER: $"
MSG3 DB 13,10, "SUM: $"
DATA ENDS

CODE SEGMENT
START: MOV AX, DATA
MOV DS, AX

LEA DX, MSG1
MOV AH, 09H
INT 21H

MOV AH, 01H
INT 21H
MOV BH, AL
MOV AH, 01H
INT 21H
MOV BL, AL

LEA DX, MSG2
MOV AH, 09H
INT 21H

MOV AH, 01H
INT 21H
MOV CH, AL
MOV AH, 01H
INT 21H
MOV CL, AL

MOV AL,BL
MOV AH, 00H
ADD AL,CL
AAA

ADD AX, 3030H
MOV BL, AL

MOV AL, AH

MOV AH, 00H
ADD AL, BH
ADD AL, CH
AAA
ADD AX, 3030H
MOV BH, AL
MOV CL, AH

LEA DX, MSG3
MOV AH, 09H
INT 21H ; PRINT "SUM: "

MOV DL, CL
MOV AH, 02H
INT 21H

MOV DL, BH

MOV AH, 02H
INT 21H

MOV DL, BL
MOV AH, 02H
INT 21H

MOV AH, 4CH
INT 21H

CODE ENDS
END START
    LEA DX, MSG3
    MOV AH, 09H
    INT 21H

    MOV DL, BH
    MOV AH, 02H
    INT 21H

    MOV DL, BL
    MOV AH, 02H
    INT 21H

    ; --- Exit ---
    MOV AH, 4CH
    INT 21H

CODE ENDS
END START

	
